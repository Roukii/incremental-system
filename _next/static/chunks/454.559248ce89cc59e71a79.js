(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{3349:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},6610:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},5991:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return o}})},6156:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},7608:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},5255:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,{Z:function(){return o}})},6089:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return i}});var o=n(3349);function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?(0,o.Z)(t):e}},8939:function(t,e,n){"use strict";var r;n.d(e,{PA:function(){return y},mM:function(){return ar},KZ:function(){return kr}}),function(t){t.Launching="Launching",t.Playing="Playing",t.Paused="Paused",t.Stopped="Stopped"}(r||(r={}));var o=function(){function t(){}return t.store=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.get=function(t){return JSON.parse(localStorage.getItem(t))},t.delete=function(t){localStorage.removeItem(t)},t}(),i=function(t){this.tabs=t},s=function(){function t(t,e){this.label=t,this.children=e}return t.prototype.isEmpty=function(){return 0==this.children.length},t}(),u=function(){function t(t,e){this.propertyName=t,this.label=e,this.cssClass="btn-green"}return Object.defineProperty(t.prototype,"displayLabel",{get:function(){var t;return null!==(t=this.label)&&void 0!==t?t:this.propertyName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0==this.object?(console.warn("Cannot get as object is undefined for AbstractField "+this.propertyName),""):this.object[this.propertyName]},set:function(t){void 0!=this.object?this.object[this.propertyName]=t:console.warn("Cannot get as object is undefined for AbstractField "+this.propertyName)},enumerable:!1,configurable:!0}),t.prototype.setObject=function(t){return this.object=t,this},t.prototype.setCssClass=function(t){return this.cssClass=t,this},t.prototype.setComponentName=function(t){return this.componentName=t,this},t}(),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e,n){var r=t.call(this,"",n)||this;return r.func=e,r.setComponentName("igt-button-field"),r}return c(e,t),e}(u),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.setComponentName("igt-display-field"),r}return p(e,t),e}(u),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n,r){var o=t.call(this,e,r)||this;return o.options=n,o.setComponentName("igt-choice-field"),o}return f(e,t),e}(u),y=function(){function t(){this._tickInterval=null,this.SAVE_INTERVAL=30,this._nextSave=this.SAVE_INTERVAL,this.gameSpeed=1,this._lastUpdate=0,this.state=r.Launching}return t.prototype.getDeveloperPanel=function(){for(var t=this,e=[new s("Game",[new l("state","State").setObject(this),new h("gameSpeed",[["0.5x",.5],["1x",1],["2x",2],["4x",4]],"Game speed").setObject(this),new a((function(){t.start()}),"Start").setCssClass("btn-green"),new a((function(){t.pause()}),"Pause").setCssClass("btn-blue"),new a((function(){t.resume()}),"Resume").setCssClass("btn-green"),new a((function(){t.stop()}),"Stop").setCssClass("btn-red")])],n=0,r=this.featureList;n<r.length;n++){for(var o=r[n],u=o.getDeveloperPanelFields(),c=0,p=u;c<p.length;c++){p[c].setObject(o)}var f=new s(o.saveKey,u);f.isEmpty()||e.push(f)}return new i(e)},t.prototype.forceUpdate=function(t){for(var e=0,n=this.featureList;e<n.length;e++){n[e].update(t)}},t.prototype.update=function(){var t=(new Date).getTime()/1e3,e=Math.max(0,t-this._lastUpdate);if(this.state==r.Playing){for(var n=e*this.gameSpeed,o=0,i=this.featureList;o<i.length;o++){i[o].update(n)}this._lastUpdate=t,this._nextSave-=n,this._nextSave<=0&&(this.save(),this._nextSave=this.SAVE_INTERVAL)}},t.prototype.getTotalCurrencyMultiplier=function(t){for(var e=1,n=0,r=this.featureList;n<r.length;n++){e*=r[n].getTotalCurrencyMultiplier(t)}return e},t.prototype.initialize=function(){for(var t=0,e=this.featureList;t<e.length;t++){e[t].initialize(this.features)}},t.prototype.start=function(){var t=this;if(this.state===r.Stopped||this.state===r.Launching){for(var e=0,n=this.featureList;e<n.length;e++){n[e].start()}this._lastUpdate=(new Date).getTime()/1e3,this._tickInterval=setInterval((function(){return t.update()}),1e3*this.TICK_DURATION),this.state=r.Playing,console.debug("Game Started")}else this.printStateWarning("Cannot start the game twice.")},t.prototype.pause=function(){this.state===r.Playing?(this._tickInterval&&clearInterval(this._tickInterval),this.state=r.Paused,console.debug("Game Paused")):this.printStateWarning("Cannot pause the game if we're not playing.")},t.prototype.resume=function(){var t=this;this.state===r.Paused?(this._lastUpdate=(new Date).getTime()/1e3,this._tickInterval=setInterval((function(){return t.update()}),1e3*this.TICK_DURATION),this.state=r.Playing,console.debug("Game Resumed")):this.printStateWarning("Cannot resume the game if we're not paused.")},t.prototype.stop=function(){if(this.state!==r.Stopped){this._tickInterval&&clearInterval(this._tickInterval);for(var t=0,e=this.featureList;t<e.length;t++){e[t].stop()}this.state=r.Stopped,console.debug("Stopped")}else this.printStateWarning("Cannot stop the game if we're already stopped.")},t.prototype.save=function(){for(var t={},e=0,n=this.featureList;e<n.length;e++){var r=n[e];t[r.saveKey]=r.save()}o.store(this.SAVE_KEY,t)},t.prototype.deleteSave=function(){o.delete(this.SAVE_KEY)},t.prototype.load=function(){var t=o.get(this.SAVE_KEY);if(null!=t)for(var e=0,n=this.featureList;e<n.length;e++){var r=n[e],i=t[r.saveKey];null!=i&&r.load(i)}},t.prototype.printStateWarning=function(t){console.warn("Current state = "+this.state+".",t)},Object.defineProperty(t.prototype,"featureList",{get:function(){return Object.values(this.features)},enumerable:!1,configurable:!0}),t}(),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.setComponentName("igt-number-field"),r}d(e,t)}(u),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),_=(function(t){function e(e,n,r,o,i){void 0===n&&(n=0),void 0===r&&(r=100),void 0===o&&(o=1);var s=t.call(this,e,i)||this;return s.min=n,s.max=r,s.step=o,s.setComponentName("igt-range-field"),s}v(e,t)}(u),function(){function t(t){this.saveKey=t}return t.prototype.getDeveloperPanelFields=function(){return[]},t.prototype.initialize=function(t){},t.prototype.start=function(){},t.prototype.stop=function(){},t.prototype.canAccess=function(){return!1},t.prototype.getTotalCurrencyMultiplier=function(t){return 1},t.prototype.update=function(t){},t}()),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=(function(t){function e(e,n){void 0===n&&(n=[]);var r=t.call(this,e)||this;return r._wallet=null,r.upgrades=n,r}b(e,t),e.prototype.initialize=function(t){if(!t.wallet)throw new Error("The IgtUpgradeFeature (or subclasses), make sure it's instantiated and added to IgtFeatures");this._wallet=t.wallet},e.prototype.getUpgrade=function(t){return this.upgrades.find((function(e){return e.id===t}))},e.prototype.buyUpgrade=function(t){return this._wallet?!!t.canBuy(this._wallet)&&t.buy(this._wallet):(console.warn("IgtWallet not found, are you sure it is initialized?"),!1)},e.prototype.canAfford=function(t){return t.canAfford(this._wallet)},e.prototype.load=function(t){var e,n=this;null===(e=t.upgrades)||void 0===e||e.forEach((function(t){var e;null===(e=n.getUpgrade(t.id))||void 0===e||e.load(t)}))},e.prototype.save=function(){return{upgrades:this.upgrades.map((function(t){return t.save()}))}}}(_),function(){function t(){this.list=[]}return t.prototype.addAchievement=function(t){this.list.push(t)},t}()),g=n(8993),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=(function(t){function e(e){void 0===e&&(e="achievements");var n=t.call(this,e)||this;return n.ACHIEVEMENT_CHECK_TIME=2,n._checkCounter=0,n._onUnlock=new g.FK,n.list={},n}O(e,t),Object.defineProperty(e.prototype,"onUnlock",{get:function(){return this._onUnlock.asEvent()},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this._checkCounter+=t,this._checkCounter>=this.ACHIEVEMENT_CHECK_TIME&&(this.checkForAchievementsCompleted(),this._checkCounter=0)},e.prototype.checkForAchievementsCompleted=function(){for(var t in this.list){var e=this.list[t];if(e.requirementsCompleted())e.unlock()&&this._onUnlock.dispatch(e)}},e.prototype.registerAchievement=function(t){return this.list[t.key]=t,t},e.prototype.getAchievement=function(t){return this.hasAchievement(t)?this.list[t]:(console.warn("Could not find achievement with key "+t),null)},e.prototype.hasAchievement=function(t){return t in this.list},e.prototype.load=function(t){for(var e=0,n=t.list;e<n.length;e++){var r=n[e],o=this.getAchievement(r);null!==o&&(o.unlocked=!0)}},e.prototype.save=function(){var t=new m;for(var e in this.list)this.list[e].unlocked&&t.addAchievement(e);return t}}(_),function(){function t(t,e,n,r,o,i){void 0===o&&(o=""),void 0===i&&(i=!1),this.key=t,this.title=e,this.description=n,this.image=o,this.requirement=r,this.isHidden=i,this.unlocked=!1}return t.prototype.unlock=function(){return!this.unlocked&&(this.unlocked=!0,!0)},t.prototype.requirementsCompleted=function(){return this.requirement.isCompleted},t.prototype.getProgress=function(){return this.requirement.progress},t}()),j=function(){function t(t,e){this.actual=t,this.target=e}return t.prototype.getPercentage=function(){return Math.min(1,Math.max(0,this.actual/this.target))},t}(),P=function(){function t(){}return Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this.actualValue>=this.targetValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return new j(Math.min(this.actualValue,this.targetValue),this.targetValue)},enumerable:!1,configurable:!0}),t}(),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(){var e=t.call(this)||this;return e.isSet=!1,e}return E(e,t),e.prototype.forceCompletion=function(){this.isSet=!0},Object.defineProperty(e.prototype,"isCompleted",{get:function(){return this.isSet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this.isSet?this.targetValue:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return"Can only be manually completed"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(P),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=(function(t){function e(e,n,r,o,i){return void 0===o&&(o=""),void 0===i&&(i=!1),t.call(this,e,n,r,new S,o,i)||this}C(e,t),e.prototype.forceComplete=function(){this.requirement.forceCompletion()}}(w),function(t){this.list=t}),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(e){void 0===e&&(e="redeemable-codes");var n=t.call(this,e)||this;return n.list=[],n}A(e,t),e.prototype.enterCode=function(t){var e=this.hash(t),n=this.list.find((function(t){return t.hash===e}));if(n)return!n.isRedeemed&&(n.redeem(),n)},e.prototype.hash=function(t){var e,n=0;if(0===t.length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},e.prototype.load=function(t){var e=this;(null===t||void 0===t?void 0:t.list)&&t.list.forEach((function(t){var n=e.list.find((function(e){return e.id===t}));n&&(n.isRedeemed=!0)}))},e.prototype.save=function(){var t=this.list.filter((function(t){return t.isRedeemed})).map((function(t){return t.id}));return new x(t)}})(_),function(){function t(t,e,n,r,o){void 0===o&&(o=!1),this.id=t,this.description=e,this.hash=n,this.rewardFunction=r,this.isRedeemed=!1,this.isRepeatable=o}t.prototype.redeem=function(){return!this.isRedeemed&&(this.isRepeatable||(this.isRedeemed=!0),this.rewardFunction(),!0)}}();var L=function(){this.__data__=[],this.size=0};var I=function(t,e){return t===e||t!==t&&e!==e};var k=function(t,e){for(var n=t.length;n--;)if(I(t[n][0],e))return n;return-1},D=Array.prototype.splice;var T=function(t){var e=this.__data__,n=k(e,t);return!(n<0)&&(n==e.length-1?e.pop():D.call(e,n,1),--this.size,!0)};var M=function(t){var e=this.__data__,n=k(e,t);return n<0?void 0:e[n][1]};var B=function(t){return k(this.__data__,t)>-1};var N=function(t,e){var n=this.__data__,r=k(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}F.prototype.clear=L,F.prototype.delete=T,F.prototype.get=M,F.prototype.has=B,F.prototype.set=N;var U=F;var V=function(){this.__data__=new U,this.size=0};var K=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var q=function(t){return this.__data__.get(t)};var H=function(t){return this.__data__.has(t)},R="object"==typeof global&&global&&global.Object===Object&&global,W="object"==typeof self&&self&&self.Object===Object&&self,G=R||W||Function("return this")(),z=G.Symbol,Z=Object.prototype,$=Z.hasOwnProperty,Y=Z.toString,J=z?z.toStringTag:void 0;var X=function(t){var e=$.call(t,J),n=t[J];try{t[J]=void 0;var r=!0}catch(i){}var o=Y.call(t);return r&&(e?t[J]=n:delete t[J]),o},Q=Object.prototype.toString;var tt=function(t){return Q.call(t)},et=z?z.toStringTag:void 0;var nt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":et&&et in Object(t)?X(t):tt(t)};var rt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var ot=function(t){if(!rt(t))return!1;var e=nt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},it=G["__core-js_shared__"],st=function(){var t=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var ut=function(t){return!!st&&st in t},ct=Function.prototype.toString;var at=function(t){if(null!=t){try{return ct.call(t)}catch(e){}try{return t+""}catch(e){}}return""},pt=/^\[object .+?Constructor\]$/,lt=Function.prototype,ft=Object.prototype,ht=lt.toString,yt=ft.hasOwnProperty,dt=RegExp("^"+ht.call(yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var vt=function(t){return!(!rt(t)||ut(t))&&(ot(t)?dt:pt).test(at(t))};var _t=function(t,e){return null==t?void 0:t[e]};var bt=function(t,e){var n=_t(t,e);return vt(n)?n:void 0},mt=bt(G,"Map"),gt=bt(Object,"create");var Ot=function(){this.__data__=gt?gt(null):{},this.size=0};var wt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},jt=Object.prototype.hasOwnProperty;var Pt=function(t){var e=this.__data__;if(gt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return jt.call(e,t)?e[t]:void 0},Et=Object.prototype.hasOwnProperty;var St=function(t){var e=this.__data__;return gt?void 0!==e[t]:Et.call(e,t)};var Ct=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gt&&void 0===e?"__lodash_hash_undefined__":e,this};function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xt.prototype.clear=Ot,xt.prototype.delete=wt,xt.prototype.get=Pt,xt.prototype.has=St,xt.prototype.set=Ct;var At=xt;var Lt=function(){this.size=0,this.__data__={hash:new At,map:new(mt||U),string:new At}};var It=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var kt=function(t,e){var n=t.__data__;return It(e)?n["string"==typeof e?"string":"hash"]:n.map};var Dt=function(t){var e=kt(this,t).delete(t);return this.size-=e?1:0,e};var Tt=function(t){return kt(this,t).get(t)};var Mt=function(t){return kt(this,t).has(t)};var Bt=function(t,e){var n=kt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nt.prototype.clear=Lt,Nt.prototype.delete=Dt,Nt.prototype.get=Tt,Nt.prototype.has=Mt,Nt.prototype.set=Bt;var Ft=Nt;var Ut=function(t,e){var n=this.__data__;if(n instanceof U){var r=n.__data__;if(!mt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ft(r)}return n.set(t,e),this.size=n.size,this};function Vt(t){var e=this.__data__=new U(t);this.size=e.size}Vt.prototype.clear=V,Vt.prototype.delete=K,Vt.prototype.get=q,Vt.prototype.has=H,Vt.prototype.set=Ut;var Kt=Vt;var qt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Ht=function(){try{var t=bt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var Rt=function(t,e,n){"__proto__"==e&&Ht?Ht(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Wt=Object.prototype.hasOwnProperty;var Gt=function(t,e,n){var r=t[e];Wt.call(t,e)&&I(r,n)&&(void 0!==n||e in t)||Rt(t,e,n)};var zt=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Rt(n,u,c):Gt(n,u,c)}return n};var Zt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var $t=function(t){return null!=t&&"object"==typeof t};var Yt=function(t){return $t(t)&&"[object Arguments]"==nt(t)},Jt=Object.prototype,Xt=Jt.hasOwnProperty,Qt=Jt.propertyIsEnumerable,te=Yt(function(){return arguments}())?Yt:function(t){return $t(t)&&Xt.call(t,"callee")&&!Qt.call(t,"callee")},ee=Array.isArray;var ne=function(){return!1},re="object"==typeof exports&&exports&&!exports.nodeType&&exports,oe=re&&"object"==typeof module&&module&&!module.nodeType&&module,ie=oe&&oe.exports===re?G.Buffer:void 0,se=(ie?ie.isBuffer:void 0)||ne,ue=/^(?:0|[1-9]\d*)$/;var ce=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ue.test(t))&&t>-1&&t%1==0&&t<e};var ae=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},pe={};pe["[object Float32Array]"]=pe["[object Float64Array]"]=pe["[object Int8Array]"]=pe["[object Int16Array]"]=pe["[object Int32Array]"]=pe["[object Uint8Array]"]=pe["[object Uint8ClampedArray]"]=pe["[object Uint16Array]"]=pe["[object Uint32Array]"]=!0,pe["[object Arguments]"]=pe["[object Array]"]=pe["[object ArrayBuffer]"]=pe["[object Boolean]"]=pe["[object DataView]"]=pe["[object Date]"]=pe["[object Error]"]=pe["[object Function]"]=pe["[object Map]"]=pe["[object Number]"]=pe["[object Object]"]=pe["[object RegExp]"]=pe["[object Set]"]=pe["[object String]"]=pe["[object WeakMap]"]=!1;var le=function(t){return $t(t)&&ae(t.length)&&!!pe[nt(t)]};var fe=function(t){return function(e){return t(e)}},he="object"==typeof exports&&exports&&!exports.nodeType&&exports,ye=he&&"object"==typeof module&&module&&!module.nodeType&&module,de=ye&&ye.exports===he&&R.process,ve=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||de&&de.binding&&de.binding("util")}catch(e){}}(),_e=ve&&ve.isTypedArray,be=_e?fe(_e):le,me=Object.prototype.hasOwnProperty;var ge=function(t,e){var n=ee(t),r=!n&&te(t),o=!n&&!r&&se(t),i=!n&&!r&&!o&&be(t),s=n||r||o||i,u=s?Zt(t.length,String):[],c=u.length;for(var a in t)!e&&!me.call(t,a)||s&&("length"==a||o&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||ce(a,c))||u.push(a);return u},Oe=Object.prototype;var we=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Oe)};var je=function(t,e){return function(n){return t(e(n))}},Pe=je(Object.keys,Object),Ee=Object.prototype.hasOwnProperty;var Se=function(t){if(!we(t))return Pe(t);var e=[];for(var n in Object(t))Ee.call(t,n)&&"constructor"!=n&&e.push(n);return e};var Ce=function(t){return null!=t&&ae(t.length)&&!ot(t)};var xe=function(t){return Ce(t)?ge(t):Se(t)};var Ae=function(t,e){return t&&zt(e,xe(e),t)};var Le=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ie=Object.prototype.hasOwnProperty;var ke=function(t){if(!rt(t))return Le(t);var e=we(t),n=[];for(var r in t)("constructor"!=r||!e&&Ie.call(t,r))&&n.push(r);return n};var De=function(t){return Ce(t)?ge(t,!0):ke(t)};var Te=function(t,e){return t&&zt(e,De(e),t)},Me="object"==typeof exports&&exports&&!exports.nodeType&&exports,Be=Me&&"object"==typeof module&&module&&!module.nodeType&&module,Ne=Be&&Be.exports===Me?G.Buffer:void 0,Fe=Ne?Ne.allocUnsafe:void 0;var Ue=function(t,e){if(e)return t.slice();var n=t.length,r=Fe?Fe(n):new t.constructor(n);return t.copy(r),r};var Ve=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var Ke=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i};var qe=function(){return[]},He=Object.prototype.propertyIsEnumerable,Re=Object.getOwnPropertySymbols,We=Re?function(t){return null==t?[]:(t=Object(t),Ke(Re(t),(function(e){return He.call(t,e)})))}:qe;var Ge=function(t,e){return zt(t,We(t),e)};var ze=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Ze=je(Object.getPrototypeOf,Object),$e=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ze(e,We(t)),t=Ze(t);return e}:qe;var Ye=function(t,e){return zt(t,$e(t),e)};var Je=function(t,e,n){var r=e(t);return ee(t)?r:ze(r,n(t))};var Xe=function(t){return Je(t,xe,We)};var Qe=function(t){return Je(t,De,$e)},tn=bt(G,"DataView"),en=bt(G,"Promise"),nn=bt(G,"Set"),rn=bt(G,"WeakMap"),on="[object Map]",sn="[object Promise]",un="[object Set]",cn="[object WeakMap]",an="[object DataView]",pn=at(tn),ln=at(mt),fn=at(en),hn=at(nn),yn=at(rn),dn=nt;(tn&&dn(new tn(new ArrayBuffer(1)))!=an||mt&&dn(new mt)!=on||en&&dn(en.resolve())!=sn||nn&&dn(new nn)!=un||rn&&dn(new rn)!=cn)&&(dn=function(t){var e=nt(t),n="[object Object]"==e?t.constructor:void 0,r=n?at(n):"";if(r)switch(r){case pn:return an;case ln:return on;case fn:return sn;case hn:return un;case yn:return cn}return e});var vn=dn,_n=Object.prototype.hasOwnProperty;var bn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&_n.call(t,"index")&&(n.index=t.index,n.input=t.input),n},mn=G.Uint8Array;var gn=function(t){var e=new t.constructor(t.byteLength);return new mn(e).set(new mn(t)),e};var On=function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},wn=/\w*$/;var jn=function(t){var e=new t.constructor(t.source,wn.exec(t));return e.lastIndex=t.lastIndex,e},Pn=z?z.prototype:void 0,En=Pn?Pn.valueOf:void 0;var Sn=function(t){return En?Object(En.call(t)):{}};var Cn=function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var xn=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return gn(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return On(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cn(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return jn(t);case"[object Set]":return new r;case"[object Symbol]":return Sn(t)}},An=Object.create,Ln=function(){function t(){}return function(e){if(!rt(e))return{};if(An)return An(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var In=function(t){return"function"!=typeof t.constructor||we(t)?{}:Ln(Ze(t))};var kn=function(t){return $t(t)&&"[object Map]"==vn(t)},Dn=ve&&ve.isMap,Tn=Dn?fe(Dn):kn;var Mn=function(t){return $t(t)&&"[object Set]"==vn(t)},Bn=ve&&ve.isSet,Nn=Bn?fe(Bn):Mn,Fn="[object Arguments]",Un="[object Function]",Vn="[object Object]",Kn={};Kn[Fn]=Kn["[object Array]"]=Kn["[object ArrayBuffer]"]=Kn["[object DataView]"]=Kn["[object Boolean]"]=Kn["[object Date]"]=Kn["[object Float32Array]"]=Kn["[object Float64Array]"]=Kn["[object Int8Array]"]=Kn["[object Int16Array]"]=Kn["[object Int32Array]"]=Kn["[object Map]"]=Kn["[object Number]"]=Kn["[object Object]"]=Kn["[object RegExp]"]=Kn["[object Set]"]=Kn["[object String]"]=Kn["[object Symbol]"]=Kn["[object Uint8Array]"]=Kn["[object Uint8ClampedArray]"]=Kn["[object Uint16Array]"]=Kn["[object Uint32Array]"]=!0,Kn["[object Error]"]=Kn[Un]=Kn["[object WeakMap]"]=!1;var qn=function t(e,n,r,o,i,s){var u,c=1&n,a=2&n,p=4&n;if(r&&(u=i?r(e,o,i,s):r(e)),void 0!==u)return u;if(!rt(e))return e;var l=ee(e);if(l){if(u=bn(e),!c)return Ve(e,u)}else{var f=vn(e),h=f==Un||"[object GeneratorFunction]"==f;if(se(e))return Ue(e,c);if(f==Vn||f==Fn||h&&!i){if(u=a||h?{}:In(e),!c)return a?Ye(e,Te(u,e)):Ge(e,Ae(u,e))}else{if(!Kn[f])return i?e:{};u=xn(e,f,c)}}s||(s=new Kt);var y=s.get(e);if(y)return y;s.set(e,u),Nn(e)?e.forEach((function(o){u.add(t(o,n,r,o,e,s))})):Tn(e)&&e.forEach((function(o,i){u.set(i,t(o,n,r,i,e,s))}));var d=l?void 0:(p?a?Qe:Xe:a?De:xe)(e);return qt(d||e,(function(o,i){d&&(o=e[i=o]),Gt(u,i,t(o,n,r,i,e,s))})),u};var Hn,Rn=function(t){return qn(t,5)},Wn=function(){function t(t,e){this.item=t,this.amount=e}return t.prototype.isEmpty=function(){return 0===this.amount},t.prototype.isFull=function(){return this.amount>=this.item.maxStack},t.prototype.spaceLeft=function(){return this.item.maxStack-this.amount},t.prototype.gainItems=function(t){this.amount+=t,this.amount>this.item.maxStack&&(console.error("Tried to have more than "+this.item.maxStack+" of "+this.item.id+" in one stack"),this.amount=this.item.maxStack)},t.prototype.loseItems=function(t){this.amount-=t,this.amount<0&&(console.error("Tried to have less than 0 of "+this.item.id+" in one stack"),this.amount=0)},t}(),Gn=function(){function t(t,e,n,r,o){void 0===o&&(o=1/0),this.name=t,this.description=e,this.id=n,this.type=r,this.maxStack=o,this.saveKey=this.id}return t.prototype.load=function(t){},t.prototype.save=function(){return{}},t}(),zn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zn=function(t){function e(e,n,r,o,i){return void 0===i&&(i=1/0),t.call(this,e,n,r,o,i)||this}return zn(e,t),e.prototype.consumeMultiple=function(t){for(var e=0;e<t;e++)this.consume()},e}(Gn),$n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yn=function(t){function e(){return t.call(this,"Empty","","empty","empty",0)||this}return $n(e,t),e}(Gn),Jn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=(function(t){function e(e,n){void 0===e&&(e=10),void 0===n&&(n="inventory");var r=t.call(this,n)||this;return r._itemList=void 0,r._onItemGain=new g.pB,r.slotCount=e,r.slots=new Array(r.slotCount).fill(new Wn(new Yn,0)),r}Jn(e,t),e.prototype.initialize=function(e){if(t.prototype.initialize.call(this,e),!e.itemList)throw new Error("IgtInventory depends on IgtItemList, make sure it's instantiated and added to IgtFeatures");this._itemList=e.itemList},e.prototype.interactIndices=function(t,e){if(t!==e){var n=this.slots[t];if(n.isEmpty())console.warn("Cannot interact with empty item");else{var r=this.slots[e];n.item.id!==r.item.id?this.swapItems(t,e):this.mergeItems(n,r)}}},e.prototype.mergeItems=function(t,e){if(t.item.id!==e.item.id)throw new Error("Cannot merge items of types "+t.item.id+" and "+e.item.id);var n=Math.min(t.amount,e.spaceLeft());t.loseItems(n),e.gainItems(n)},e.prototype.swapItems=function(t,e){var n=this.slots[t];this.slots.splice(t,1,this.slots[e]),this.slots.splice(e,1,n)},e.prototype.consumeItem=function(t,e){void 0===e&&(e=1);var n=this.slots[t],r=n.item;return r instanceof Zn?n.amount<e?(console.warn("Amount of "+n+" is not greater than "+e),!1):r.canConsume()?(1===e?r.consume():r.consumeMultiple(e),this.loseItemAtIndex(t,e),!0):(console.warn("Cannot consume item, check its restrictions for the reason"),!1):(console.warn("Item "+r+" is not a consumable"),!1)},e.prototype.loseItemAmount=function(t,e){for(void 0===e&&(e=1);e>0&&this.getTotalAmount(t)>0;){var n=this.getIndexOfNonFullStack(t),r=-1!==n?n:this.getIndexOfItem(t);if(-1===r)throw Error("Index of item "+t+" to lose is -1. This suggests an error in inventory management");var o=Math.min(e,this.slots[r].amount);e-=o,this.loseItemAtIndex(r,o)}return e},e.prototype.gainItem=function(t,e){void 0===e&&(e=1);var n=this._gainItem(t,e);return this._onItemGain.dispatch(t,e),n},e.prototype._gainItem=function(t,e){void 0===e&&(e=1);var n=this.getIndexOfNonFullStack(t.id);if(-1===n){var r=this.getIndexOfFirstEmptySlot();if(-1===r)return console.log("Cannot add "+e+" of "+t.id+", no empty slots left"),e;var o=Math.min(e,t.maxStack);return this.slots.splice(r,1,new Wn(t,o)),(i=e-o)<=0?0:this._gainItem(t,i)}var i;o=Math.min(e,this.slots[n].spaceLeft());return this.slots[n].gainItems(o),(i=e-o)<=0?0:this._gainItem(t,i)},e.prototype.getSpotsLeftForItem=function(t){for(var e=0,n=0,r=this.slots;n<r.length;n++){var o=r[n];o.isEmpty()?e+=t.maxStack:o.item.id===t.id&&(e+=o.spaceLeft())}return e},e.prototype.canTakeItemAmounts=function(t){for(var e=Rn(this),n=0,r=t;n<r.length;n++){var o=r[n];if(0!==e.gainItem(this._itemList.getItem(o.id),o.amount))return!1}return!0},e.prototype.hasItemAmounts=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(!this.hasItemAmount(r))return!1}return!0},e.prototype.hasItemAmount=function(t){return this.getTotalAmount(t.id)>=t.amount},e.prototype.canTakeItem=function(t,e){return this.getSpotsLeftForItem(t)>=e},e.prototype.getIndexOfNonFullStack=function(t){for(var e=0;e<this.slots.length;e++)if(this.slots[e].item.id===t&&!this.slots[e].isFull())return e;return-1},e.prototype.getIndexOfItem=function(t){for(var e=0;e<this.slots.length;e++)if(this.slots[e].item.id===t)return e;return-1},e.prototype.getIndexOfFirstEmptySlot=function(){for(var t=0;t<this.slots.length;t++)if(this.slots[t].isEmpty())return t;return-1},e.prototype.hasEmptySlot=function(){return-1!==this.getIndexOfFirstEmptySlot()},e.prototype.hasNonFullStack=function(t){return-1!==this.getIndexOfNonFullStack(t)},e.prototype.loseItemAtIndex=function(t,e){void 0===e&&(e=1),this.slots[t].loseItems(e),this.slots[t].amount<=0&&this.slots.splice(t,1,new Wn(new Yn,0))},e.prototype.dropStack=function(t){this.loseItemAtIndex(t,this.slots[t].amount)},e.prototype.getEmptySlotCount=function(){for(var t=0,e=0,n=this.slots;e<n.length;e++){n[e].isEmpty()&&t++}return t},e.prototype.getTotalAmount=function(t){for(var e=0,n=0,r=this.slots;n<r.length;n++){var o=r[n];o.item.id===t&&(e+=o.amount)}return e},e.prototype.getAmount=function(t){return this.slots[t].amount},e.prototype.isEmpty=function(){for(var t=0,e=this.slots;t<e.length;t++){if(0!=e[t].amount)return!1}return!0},Object.defineProperty(e.prototype,"onItemGain",{get:function(){return this._onItemGain.asEvent()},enumerable:!1,configurable:!0}),e.prototype.load=function(t){if(t.slots)for(var e=0;e<t.slots.length;e++){var n=t.slots[e];if("empty"!==n.id)try{var r=this._itemList.getItem(n.id);r.load(n.data),this.slots[e]=new Wn(r,n.amount)}catch(o){console.error("Could not load Item "+n.id+". Make sure it has a getter in ItemList")}}},e.prototype.save=function(){return{slots:this.slots.map((function(t){return{id:t.item.id,amount:t.amount,data:t.item.save()}}))}}}(_),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Qn=(function(t){function e(e,n,r,o,i,s){var u=t.call(this,e,n,r,o,i)||this;return u.customData=s,u}Xn(e,t),e.prototype.save=function(){return{customData:this.customData}},e.prototype.load=function(t){var e;this.customData=null!==(e=t.customData)&&void 0!==e?e:this.customData}}(Gn),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),tr=(function(t){function e(e){return void 0===e&&(e="item-list"),t.call(this,e)||this}Qn(e,t),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e)},Object.defineProperty(e.prototype,"empty",{get:function(){return new Yn},enumerable:!1,configurable:!0}),e.prototype.load=function(){},e.prototype.save=function(){return{}}}(_),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),er=(function(t){function e(e){void 0===e&&(e="key-items");var n=t.call(this,e)||this;return n._onKeyItemGain=new g.FK,n.list={},n}tr(e,t),e.prototype.registerKeyItem=function(t){return this.list[t.id]=t,t},e.prototype.hasKeyItem=function(t){var e;return null===(e=this.getKeyItem(t))||void 0===e?void 0:e.isUnlocked},e.prototype.getKeyItem=function(t){return this.list[t]},e.prototype.gainKeyItem=function(t){var e=this.getKeyItem(t);e?e.unlock()&&this._onKeyItemGain.dispatch(e):console.warn("Key Item with id "+t+" could not be found")},Object.defineProperty(e.prototype,"onKeyItemGain",{get:function(){return this._onKeyItemGain.asEvent()},enumerable:!1,configurable:!0}),e.prototype.load=function(t){var e,n=this;null===(e=t.list)||void 0===e||e.forEach((function(t){var e=n.getKeyItem(t);e&&(e.isUnlocked=!0)}))},e.prototype.save=function(){var t=[];for(var e in this.list)this.list[e].isUnlocked&&t.push(e);return{list:t}}}(_),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return er(e,t),Object.defineProperty(e.prototype,"isCompleted",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualValue",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return 0},enumerable:!1,configurable:!0}),e}(P),rr=(function(){function t(t,e,n,r,o,i){void 0===r&&(r=""),void 0===o&&(o=""),void 0===i&&(i=new nr),this.isUnlocked=!1,this.id=t,this.name=e,this.description=n,this.unlockHint=r,this.image=o,this.requirement=i}t.prototype.unlock=function(){return!(!this.requirement.isCompleted||this.isUnlocked)&&(this.isUnlocked=!0,!0)}}(),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),or=(function(t){function e(e,n){var r=t.call(this)||this;return r._keyItems=e,r.itemId=n,r}rr(e,t),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this._keyItems.hasKeyItem(this.itemId)?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return"Unlock the "+this._keyItems.getKeyItem(this.itemId).name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return 1},enumerable:!1,configurable:!0})}(P),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ir=(function(t){function e(e){return void 0===e&&(e="loot-tables"),t.call(this,e)||this}or(e,t),e.prototype.load=function(){},e.prototype.save=function(){return{}}}(_),function(){function t(t,e,n,r,o){void 0===o&&(o=new nr),this.id=t,this.displayName=e,this.options=n,this.defaultValue=r,this.value=r,this.requirement=o}return t.prototype.set=function(t){this.canAccess&&(this.validValue(t)?this.value=t:console.warn(t+" is not a valid value for setting "+this.id+". It could be that the option is not yet unlocked."))},t.prototype.validValue=function(t){var e=this.options.find((function(e){return e.value===t}));return!(void 0==e||!e.canAccess)},t.prototype.isSelected=function(t){return this.value===t},Object.defineProperty(t.prototype,"canAccess",{get:function(){return this.requirement.isCompleted},enumerable:!1,configurable:!0}),t}()),sr=function(){function t(t,e,n){void 0===n&&(n=new nr),this.displayText=t,this.value=e,this.requirement=n}return Object.defineProperty(t.prototype,"canAccess",{get:function(){return this.requirement.isCompleted},enumerable:!1,configurable:!0}),t}(),ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cr=(function(t){function e(e,n,r,o){return t.call(this,e,n,[new sr("On",!0),new sr("Off",!1)],r,o)||this}ur(e,t),e.prototype.toggle=function(){this.value=!this.value}}(ir),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ar=function(t){function e(e){void 0===e&&(e="settings");var n=t.call(this,e)||this;return n.list=[],n}return cr(e,t),e.prototype.registerSetting=function(t){return this.getSetting(t.id)||this.list.push(t),t},e.prototype.setSetting=function(t,e){var n=this.getSetting(t);n?n.set(e):console.warn("Setting "+t+" does not exist")},e.prototype.getSetting=function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].id==t)return this.list[e];return null},e.prototype.load=function(t){for(var e,n=0,r=t.list;n<r.length;n++){var o=r[n];null===(e=this.getSetting(o.id))||void 0===e||e.set(o.value)}},e.prototype.save=function(){return{list:this.list.map((function(t){return{id:t.id,value:t.value}}))}},e}(_),pr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=(function(t){function e(e,n,r,o,i){var s=t.call(this,e,n,r,o,i)||this;if(!s.validValue(s.defaultValue))throw new RangeError(s.defaultValue+" is not a valid value for setting "+s.id+".");return s}pr(e,t)}(ir),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());!function(t){function e(e,n,r,o,i,s){var u=t.call(this,e,n,[new sr("Default",i)],i,s)||this;if(r>=o||o<=r)throw new RangeError("Invalid range settings (min: "+r+", max: "+o+") for setting "+u.id);if(u.min=r,u.max=o,!u.validValue(i))throw new RangeError(u.defaultValue+" is not a valid value for setting "+u.id+".");return u}lr(e,t),e.prototype.validValue=function(t){return t>=this.min&&t<=this.max}}(ir);!function(t){t.Before="before",t.During="during",t.After="after"}(Hn||(Hn={}));var fr,hr=function(){function t(t,e,n,r,o,i){void 0===i&&(i=new nr),this.isActive=!1,this.id=t,this.title=e,this.description=n,this.startFunction=r,this.endFunction=o,this.requirement=i}return t.prototype.canStart=function(t){return!this.isActive&&(!!this.requirement.isCompleted&&this.getDateState(t)===Hn.During)},t.prototype.canEnd=function(t){return!!this.isActive&&this.getDateState(t)===Hn.After},t.prototype.start=function(){this.isActive?console.warn("Special Event "+this.title+" already active"):(this.isActive=!0,this.startFunction())},t.prototype.end=function(){this.isActive?(this.isActive=!1,this.endFunction()):console.warn("Cannot end. Special Event "+this.title+" is not active.")},t}(),yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dr=function(t){function e(e,n,r,o,i,s,u,c){void 0===c&&(c=new nr);var a=t.call(this,e,n,r,s,u,c)||this;return a.startTime=o,a.endTime=i,a}return yr(e,t),e.prototype.getTimeUntilStart=function(t){return new Date(+this.startTime-+t)},e.prototype.getTimeUntilEnd=function(t){return new Date(+this.endTime-+t)},e.prototype.getDateState=function(t){return t<this.startTime?Hn.Before:t>this.endTime?Hn.After:Hn.During},e}(hr),vr=function(){function t(){}return t.addMinutes=function(t,e){return new Date(t.getTime()+6e4*e)},t.addSeconds=function(t,e){return new Date(t.getTime()+1e3*e)},t.addWeeks=function(t,e){return t.setDate(t.getDate()+7*e),t},t.toTimeLeftString=function(t){if(t>this.MILLI_SECONDS_PER_DAY){var e=t/this.MILLI_SECONDS_PER_DAY;return Math.ceil(e)+" days"}if(t>this.MILLI_SECONDS_PER_HOUR){var n=t/this.MILLI_SECONDS_PER_HOUR;return Math.ceil(n)+" hours"}if(t>this.MILLI_SECONDS_PER_MINUTE){var r=t/this.MILLI_SECONDS_PER_MINUTE;return Math.ceil(r)+" minutes"}return Math.ceil(t/1e3)+" seconds"},t.MILLI_SECONDS_PER_DAY=864e5,t.MILLI_SECONDS_PER_HOUR=36e5,t.MILLI_SECONDS_PER_MINUTE=6e4,t}(),_r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=function(t){function e(e,n,r,o,i,s,u,c){return void 0===c&&(c=new nr),t.call(this,e,n,r,o,i,s,u,c)||this}return _r(e,t),e.prototype.end=function(){this.increaseWeek(),t.prototype.end.call(this)},e.prototype.increaseWeek=function(){this.startTime=vr.addWeeks(this.startTime,1),this.endTime=vr.addWeeks(this.endTime,1)},e}(dr),mr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gr=(function(t){function e(e){void 0===e&&(e="special-events");var n=t.call(this,e)||this;return n.SPECIAL_EVENT_CHECK_TIME=1,n._checkCounter=0,n._onEventStart=new g.FK,n._onEventEnd=new g.FK,n.events=[],n}mr(e,t),e.prototype.addEvent=function(t){if(t instanceof br)for(var e=Date.now();+t.endTime<e;)t.increaseWeek();this.events.push(t)},e.prototype.update=function(t){this._checkCounter+=t,this._checkCounter>=this.SPECIAL_EVENT_CHECK_TIME&&(this.checkForEvents(),this._checkCounter=0)},e.prototype.checkForEvents=function(){for(var t=new Date,e=0,n=this.events;e<n.length;e++){var r=n[e];r.canStart(t)&&(this._onEventStart.dispatch(r),r.start()),r.canEnd(t)&&(this._onEventEnd.dispatch(r),r.end())}},e.prototype.load=function(){},e.prototype.save=function(){return{}},Object.defineProperty(e.prototype,"onEventStart",{get:function(){return this._onEventStart.asEvent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onEventEnd",{get:function(){return this._onEventEnd.asEvent()},enumerable:!1,configurable:!0})}(_),function(t,e){this.id=t,this.description=e}),Or=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wr=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.value=r,o}return Or(e,t),e}(gr),jr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e,n)||this;return o.value=r,o}return jr(e,t),e}(gr),Er=function(){function t(){this.list={}}return t.prototype.addStatistic=function(t,e){this.list[t]=e},t}(),Sr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cr=(function(t){function e(e){void 0===e&&(e="statistics");var n=t.call(this,e)||this;return n.list={},n}Sr(e,t),e.prototype.incrementNumberStatistic=function(t,e){if(void 0===e&&(e=1),this.hasStatistic(t)){var n=this.list[t];n instanceof Pr?n.value+=e:console.warn("Trying to treat "+t+" as NumberStatistic but it's not.")}else console.warn("Could not find statistic with id "+t)},e.prototype.incrementArrayStatistic=function(t,e,n){if(void 0===n&&(n=1),this.hasStatistic(t)){var r=this.list[t];if(r instanceof wr){var o=r.value[e]+n;r.value.splice(e,1,o)}else console.warn("Trying to treat "+t+" as ArrayStatistic but it's not.")}else console.warn("Could not find statistic with id "+t)},e.prototype.getStatistic=function(t){return this.hasStatistic(t)?this.list[t]:(console.warn("Could not find statistic with id "+t),null)},e.prototype.hasStatistic=function(t){return t in this.list},e.prototype.registerStatistic=function(t){return this.list[t.id]=t,t},e.prototype.load=function(t){for(var e in t.list)Object.prototype.hasOwnProperty.call(t.list,e)&&(this.hasStatistic(e)?this.list[e].value=t.list[e]:console.warn("Could not load statistic "+e))},e.prototype.save=function(){var t=new Er;for(var e in this.list)t.addStatistic(e,this.list[e].value);return t}}(_),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),xr=(function(t){function e(e,n,r){var o=t.call(this)||this;return o.statistic=e,o.index=n,o.targetValue=r,o}Cr(e,t),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this.statistic.value[this.index]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return"The statistic "+this.statistic.description+" needs to be at least "+this.targetValue},enumerable:!1,configurable:!0})}(P),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ar=(function(t){function e(e,n){var r=t.call(this)||this;return r.statistic=e,r.targetValue=n,r}xr(e,t),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this.statistic.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return"The statistic "+this.statistic.description+" needs to be at least "+this.targetValue},enumerable:!1,configurable:!0})}(P),function(){function t(t,e){this.amount=t,this.type=e}return t.prototype.isValid=function(){return!isNaN(this.amount)&&this.amount>0},t.prototype.toString=function(){return"Currency("+this.amount+", "+this.type+")"},t}()),Lr=(function(){function t(){}t.createArray=function(t,e){return t.map((function(t){return new Ar(t,e)}))}}(),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ir=(function(t){function e(e,n,r){var o=t.call(this)||this;return o._wallet=e,o.amount=n,o.type=r,o}Lr(e,t),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this._wallet.getAmount(this.type)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return this.amount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return"Have "+this.amount+" "+this.type},enumerable:!1,configurable:!0})}(P),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),kr=function(t){function e(e,n){void 0===n&&(n="wallet");var r=t.call(this,n)||this;r._currencies={},r._multipliers={},r._onCurrencyGain=new g.FK,r._supportedCurrencies=e;for(var o=0,i=r._supportedCurrencies;o<i.length;o++){var s=i[o];r._currencies[s]=0,r._multipliers[s]=1}return r}return Ir(e,t),e.prototype.getAmount=function(t){return this.supportsCurrencyType(t)?this._currencies[t]:0},e.prototype.gainCurrency=function(t){t.amount*=this.getCurrencyMultiplier(t.type),t.isValid()&&this.supportsCurrencyType(t.type)?(this._onCurrencyGain.dispatch(t),this._currencies[t.type]+=t.amount):console.warn("Could not add currency "+t.toString())},e.prototype.hasCurrencies=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(!this.hasCurrency(r))return!1}return!0},e.prototype.hasCurrency=function(t){return!!this.supportsCurrencyType(t.type)&&this._currencies[t.type]>=t.amount},e.prototype.loseCurrency=function(t){t.isValid()&&this.supportsCurrencyType(t.type)?this._currencies[t.type]-=t.amount:console.warn("Could not lose currency "+t.toString())},e.prototype.loseMultipleCurrencies=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this.loseCurrency(r)}},e.prototype.payMultipleIfPossible=function(t){return!!this.hasCurrencies(t)&&(this.loseMultipleCurrencies(t),!0)},e.prototype.payIfPossible=function(t){return!!this.hasCurrency(t)&&(this.loseCurrency(t),!0)},e.prototype.getCurrencyMultiplier=function(t){var e;return null!==(e=this._multipliers[t])&&void 0!==e?e:1},e.prototype.setCurrencyMultiplier=function(t,e){t<=0||isNaN(t)||!this.supportsCurrencyType(e)||(this._multipliers[e]=t)},e.prototype.supportsCurrencyType=function(t){return this._supportedCurrencies.includes(t)},e.prototype.canAccess=function(){return!0},e.prototype.save=function(){var t=[];for(var e in this._currencies)t.push({type:e,amount:this._currencies[e]});return{currencies:t}},e.prototype.load=function(t){var e,n=this;null===(e=t.currencies)||void 0===e||e.forEach((function(t){var e;n._currencies[t.type]=null!==(e=t.amount)&&void 0!==e?e:n._currencies[t.type]}))},Object.defineProperty(e.prototype,"onCurrencyGain",{get:function(){return this._onCurrencyGain.asEvent()},enumerable:!1,configurable:!0}),e}(_),Dr=(function(){function t(t,e,n,r){void 0===n&&(n=1/0),void 0===r&&(r=new nr),this.isStarted=!1,this.currentProgress=0,this._onCompletion=new g.FK,this.description=t,this.duration=e,this.repeat=n,this.requirement=r}t.prototype.perform=function(t){this.isStarted&&(this.currentProgress+=t,this.canBeCompleted()&&this.complete())},t.prototype.canBeCompleted=function(){return this.isStarted&&this.currentProgress>=this.duration},t.prototype.complete=function(){this._onCompletion.dispatch(this),this.gainReward()&&this.repeat>0?this.repeatAction():this.stop()},t.prototype.getProgress=function(){return new j(this.currentProgress,this.duration)},t.prototype.repeatAction=function(){this.repeat--,this.currentProgress=0},t.prototype.canPerform=function(){return this.requirement.isCompleted},t.prototype.toggle=function(){this.isStarted?this.stop():this.start()},t.prototype.start=function(){return this.canPerform()?(this.isStarted=!0,!0):(console.log("Can't start action "+this.description),!1)},t.prototype.stop=function(){this.currentProgress=0,this.isStarted=!1},Object.defineProperty(t.prototype,"onCompletion",{get:function(){return this._onCompletion.asEvent()},enumerable:!1,configurable:!0})}(),function(){function t(t,e,n,r){this.currentTierIndex=-1,this.description=t,this.tiers=e,this.defaultOutput=r,this._wallet=n}t.prototype.perform=function(t){if(!this._wallet)throw new Error("IgtWallet is undefined in Booster, make sure it is set after the IgtWallet is initialized");var e=this.currentTier;if(!e)return this.defaultOutput;var n=e.getCostPerDelta(t);return this._wallet.payMultipleIfPossible(n)&&e.canUse()?e.output:(this.currentTierIndex--,this.defaultOutput)},t.prototype.selectTier=function(t){var e;(-1===t||(null===(e=this.tiers[t])||void 0===e?void 0:e.canUse()))&&(this.currentTierIndex=t)},Object.defineProperty(t.prototype,"bonus",{get:function(){return this.currentTier?this.currentTier.output:this.defaultOutput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTier",{get:function(){return this.isActive?this.tiers[this.currentTierIndex]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.currentTierIndex>=0&&this.currentTierIndex<=this.tiers.length},enumerable:!1,configurable:!0})}(),function(){function t(t,e,n,r){void 0===n&&(n=""),void 0===r&&(r=new nr),this.costs=t,this.output=e,this.displayName=n,this.requirement=r}t.prototype.getCostPerDelta=function(t){return this.costs.map((function(e){return new Ar(e.amount*t,e.type)}))},t.prototype.canUse=function(){return this.requirement.isCompleted}}(),function(){function t(t,e){this.exp=e,this.maxLevel=t}return t.prototype.gainExperience=function(t){this.exp+=t},t.prototype.getLevel=function(){for(var t=1;t<=this.maxLevel;t++)if(this.exp<this.getExpNeededForLevel(t))return t-1;return this.maxLevel},t.prototype.getLevelProgress=function(){var t=this.getLevel(),e=this.getExpForNextLevel(t),n=this.exp-this.getExpNeededForLevel(t);return new j(n,e)},t.prototype.getExpForNextLevel=function(t){return this.getExpNeededForLevel(t+1)-this.getExpNeededForLevel(t)},t}()),Tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=(function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e,r)||this;return o.levelFunc=n,o}Tr(e,t),e.prototype.getExpNeededForLevel=function(t){return t>this.maxLevel?1/0:this.levelFunc(t)}}(Dr),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());!function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e,r)||this;if(e!==n.length)throw new Error("MaxLevel is not equal to length of ExpPerLevel");return n.push(1/0),o.expPerLevel=n,o}Mr(e,t),e.prototype.getExpNeededForLevel=function(t){return this.expPerLevel[t-1]}}(Dr);!function(t){t.KeyPress="keypress",t.KeyDown="keydown",t.KeyUp="keyup"}(fr||(fr={}));var Br=function(t,e,n,r,o){void 0===r&&(r=new nr),void 0===o&&(o=fr.KeyDown),this.keys=t,this.description=e,this.callback=n,this.requirement=r,this.eventType=o},Nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(t){function e(e,n){var r=t.call(this)||this;return r._hintText=e,r._condition=n,r}return Nr(e,t),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this._condition()?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return this._hintText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(P),Ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=(function(t){function e(e,n,r,o,i){return void 0===i&&(i=fr.KeyDown),t.call(this,e,n,r,new Fr("",o),i)||this}Ur(e,t)}(Br),n(6353)),Kr=n.n(Vr),qr=(function(){function t(){}t.addKeyBind=function(t){Kr().bind(t.keys,(function(){t.requirement.isCompleted&&t.callback()}),t.eventType),this._keyBinds.push(t)},t.removeKeyBind=function(t,e){void 0===e&&(e=fr.KeyDown),this._keyBinds=this._keyBinds.filter((function(e){return e.keys!==t})),Kr().unbind(t,e)},t.trigger=function(t,e){void 0===e&&(e=fr.KeyDown),Kr().trigger(t,e)},t.getKeyBindDescriptions=function(){return this._keyBinds.map((function(t){return{keys:"string"===typeof t.keys?t.keys:t.keys.join(", "),description:t.description}}))},t.reset=function(){this._keyBinds=[],Kr().reset()},t._keyBinds=[]}(),function(){function t(){}return t.intBetween=function(t,e){return Math.floor(Math.random()*(e-t)+t)},t.booleanWithProbability=function(t,e){return void 0===e&&(e=!0),e&&(t<0||t>1)?(console.warn("Trying to generate a boolean with probability "+t+" outside of [0,1].\n            Run this method with requireNormalizedProbability=false if you're okay with this."),!1):Math.random()<t},t.booleanWithOneInChance=function(t){return 0==this.intBetween(0,t)},t.floatBetween=function(t,e){return Math.random()*(e-t)+t},t.arrayIndex=function(t){return this.intBetween(0,t.length)},t.fromArray=function(t){return t[this.arrayIndex(t)]},t.shuffle=function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},t}()),Hr=(function(){function t(t,e,n,r){this.id=t,this.always=e,this.oneOf=n,this.anyOf=r}t.prototype.roll=function(t){void 0===t&&(t=1);var e=this.getLoot(t);return e.forEach((function(t){t.apply()})),e},t.prototype.getLoot=function(t){void 0===t&&(t=1);var e=this.calculateAlwaysLoot(),n=this.calculateOneOfLoot(t),r=this.calculateAnyOfLoot(),o=e.concat(n).concat(r);return this.simplifyLoot(o)},t.prototype.calculateAlwaysLoot=function(){for(var e=[],n=0,r=t.filterOnRequirements(this.always);n<r.length;n++){var o=r[n];e=e.concat(o.getLoot())}return e},t.prototype.calculateOneOfLoot=function(e){for(var n=t.filterOnRequirements(this.oneOf),r=[],o=0;o<e;o++)r=r.concat(this.getOneFrom(n));return r},t.prototype.getOneFrom=function(e){for(var n=t.calculateWeightSum(e),r=qr.floatBetween(0,n),o=0;o<e.length;o++){if(r<=e[o].weight)return e[o].getLoot();r-=e[o].weight}return[]},t.filterOnRequirements=function(t){return t.filter((function(t){return t.canGet()}))},t.calculateWeightSum=function(t){for(var e=0,n=0,r=t;n<r.length;n++){e+=r[n].weight}return e},t.prototype.calculateAnyOfLoot=function(){for(var e=[],n=0,r=t.filterOnRequirements(this.anyOf);n<r.length;n++){var o=r[n];qr.booleanWithProbability(o.weight)&&(e=e.concat(o.getLoot()))}return e},t.prototype.simplifyLoot=function(t){for(var e=[],n=function(t){var n=e.findIndex((function(e){return e.equals(t)}));-1!==n?e[n].amount+=t.amount:e.push(t)},r=0,o=t;r<o.length;r++){n(o[r])}return e}}(),function(){function t(t,e){this.min=t,this.max=e}return t.prototype.getRandomBetween=function(){return qr.intBetween(this.min,this.max+1)},t}()),Rr=function(){function t(t,e,n){void 0===t&&(t=1),void 0===e&&(e=new Hr(1,1)),void 0===n&&(n=new nr),this.weight=t,this.amount=e,this.requirement=n}return t.prototype.canGet=function(){return this.requirement.isCompleted},t}(),Wr=function(t){this.amount=t},Gr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.loot=n,o._wallet=r,o}return Gr(e,t),e.prototype.apply=function(){this._wallet.gainCurrency(this.currency)},Object.defineProperty(e.prototype,"currency",{get:function(){return new Ar(this.amount,this.loot)},enumerable:!1,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&t.loot===this.loot},e}(Wr),Zr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$r=(function(t){function e(e,n,r,o,i){void 0===o&&(o=1),void 0===i&&(i=new nr);var s=t.call(this,o,e,i)||this;return s.type=n,s._wallet=r,s}Zr(e,t),e.prototype.getLoot=function(){return this.canGet()?[new zr(this.amount.getRandomBetween(),this.type,this._wallet)]:[]}}(Rr),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Yr=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.loot=e,o._inventory=r,o}return $r(e,t),e.prototype.apply=function(){this._inventory.gainItem(this.loot,this.amount)},e.prototype.equals=function(t){return t instanceof e&&t.loot.id===this.loot.id},e}(Wr),Jr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=(function(t){function e(e,n,r,o,i){void 0===r&&(r=1),void 0===o&&(o=new Hr(1,1)),void 0===i&&(i=new nr);var s=t.call(this,r,o,i)||this;return s.item=e,s._inventory=n,s}Jr(e,t),e.prototype.getLoot=function(){return this.canGet()?[new Yr(this.item,this.amount.getRandomBetween(),this._inventory)]:(console.warn("Tried to get loot "+this.item+", but the requirements were not met"),[])}}(Rr),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Qr=function(t){function e(e,n){var r=t.call(this,1)||this;return r.loot=e,r._keyItems=n,r}return Xr(e,t),e.prototype.apply=function(){this._keyItems.gainKeyItem(this.loot.id)},e.prototype.equals=function(t){return t instanceof e&&t.loot.id===this.loot.id},e}(Wr),to=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo=(function(t){function e(e,n,r,o){void 0===r&&(r=1),void 0===o&&(o=new nr);var i=t.call(this,r,new Hr(1,1),o)||this;return i.item=e,i._keyItems=n,i}to(e,t),e.prototype.getLoot=function(){return!this.canGet()||this._keyItems.hasKeyItem(this.item.id)?[]:[new Qr(this.item,this._keyItems)]}}(Rr),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),no=(function(t){function e(e,n,r,o,i){void 0===r&&(r=1),void 0===o&&(o=new Hr(1,1)),void 0===i&&(i=new nr);var s=t.call(this,r,o,i)||this;return s.table=e,s._lootTables=n,s}eo(e,t),e.prototype.getLoot=function(){return this._lootTables.getTable(this.table).getLoot()}}(Rr),function(){function t(t,e,n){void 0===n&&(n=new nr),this.item=t,this.weight=e,this.requirement=n}t.prototype.canGet=function(){return this.requirement.isCompleted}}(),function(){function t(t){void 0===t&&(t=[]),this.outcomes=t}t.prototype.outcomesWithMetRequirements=function(){return this.outcomes.filter((function(t){return t.canGet()}))},t.prototype.draw=function(){if(0===this.outcomesWithMetRequirements().length)throw new Error("Cannot draw from empty distribution");for(var t=this.getTotalWeight(),e=qr.floatBetween(0,t),n=0,r=0,o=this.outcomesWithMetRequirements();r<o.length;r++){var i=o[r];if(e<=(n+=i.weight))return i.item}return console.error("Could not draw an item for random "+e+". This should never happen"),qr.fromArray(this.outcomesWithMetRequirements()).item},t.prototype.getTotalWeight=function(){for(var t=0,e=0,n=this.outcomesWithMetRequirements();e<n.length;e++){t+=n[e].weight}return t},t.prototype.addOutcome=function(t){this.outcomes.push(t)},t.prototype.removeOutcome=function(t){var e=this.outcomes.indexOf(t);-1!==e&&this.outcomes.splice(e,1)}}(),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ro=(function(t){function e(e,n,r){var o=t.call(this)||this;return o._hintText=e,o._actualFunction=n,o._targetFunction=r,o}no(e,t),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this._actualFunction()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return this._targetFunction()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return this._hintText},enumerable:!1,configurable:!0})}(P),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),oo=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ro(e,t),Object.defineProperty(e.prototype,"isCompleted",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualValue",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){return"Impossible to complete"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return 1},enumerable:!1,configurable:!0})}(P),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),io=(function(t){function e(e){var n=t.call(this)||this;return n.requirements=e,n}oo(e,t),Object.defineProperty(e.prototype,"isCompleted",{get:function(){return this.requirements.every((function(t){return t.isCompleted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){for(var t="Complete the following requirements:\n",e=0,n=this.requirements;e<n.length;e++){t+=n[e].hint+"\n"}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualValue",{get:function(){for(var t=0,e=0,n=this.requirements;e<n.length;e++){n[e].isCompleted&&t++}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return this.requirements.length},enumerable:!1,configurable:!0})}(P),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),so=(function(t){function e(e){var n=t.call(this)||this;return n.requirements=e,n}io(e,t),Object.defineProperty(e.prototype,"isCompleted",{get:function(){return this.requirements.some((function(t){return t.isCompleted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hint",{get:function(){for(var t="Complete one of the following requirements:\n",e=0,n=this.requirements;e<n.length;e++){t+=n[e].hint+"\n"}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualValue",{get:function(){return this.isCompleted?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetValue",{get:function(){return 1},enumerable:!1,configurable:!0})}(P),function(){function t(t,e,n,r){this.id=t,this.type=e,this.displayName=n,this.maxLevel=r,this.level=0,this.saveKey=this.id}return t.prototype.getBonus=function(){return this.getBonusForLevel(this.level)},t.prototype.getUpgradeBonus=function(){return this.isMaxLevel()?0:this.getBonusForLevel(this.level+1)-this.getBonusForLevel(this.level)},t.prototype.isMaxLevel=function(){return this.level>=this.maxLevel},t.prototype.canAfford=function(t){return t.hasCurrency(this.getCost())},t.prototype.canBuy=function(t){return this.level<this.maxLevel&&this.canAfford(t)},t.prototype.buy=function(t){return!!this.canBuy(t)&&(t.loseCurrency(this.getCost()),this.levelUp(),!0)},t.prototype.levelUp=function(){this.level=this.level+1},t.prototype.load=function(t){this.level=t.level},t.prototype.save=function(){return{id:this.id,level:this.level}},t}()),uo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),co=(function(t){function e(e,n,r,o,i,s){var u=t.call(this,e,n,r,o)||this;return u.bonusFunc=i,u.costFunc=s,u}uo(e,t),e.prototype.getBonusForLevel=function(t){return this.bonusFunc(t)},e.prototype.getCost=function(){return this.costFunc(this.level)}}(so),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ao=function(t){function e(e,n,r,o,i,s){var u=t.call(this,e,n,r,o)||this;if(u.costList=[],u.bonusList=[],u.costList=i,u.bonusList=s,u.costList.length+1!==u.bonusList.length)throw new Error("BonusList must have a length 1 larger than CostList, got ("+u.bonusList.length+") and ("+u.costList.length+") respectively");return u}return co(e,t),e.prototype.getCost=function(){return this.isMaxLevel()?new Ar(1/0,"none"):this.costList[this.level]},e.prototype.getBonusForLevel=function(t){return this.bonusList[t]},e}(so),po=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,1,[o],[0,i])||this}po(e,t),e.prototype.isBought=function(){return this.isMaxLevel()}})(ao),function(){function t(){}t.getNamesAndValues=function(e){return t.getNames(e).map((function(t){return{name:t,value:e[t]}}))},t.getNames=function(e){return t.getObjValues(e).filter((function(t){return"string"===typeof t}))},t.getValues=function(e){return t.getObjValues(e).filter((function(t){return"number"===typeof t}))},t.getSelectList=function(t,e){var n=new Map;return this.getValues(t).forEach((function(t){return n.set(t,e(t))})),n},t.getSelectListAsArray=function(t,e){return Array.from(this.getSelectList(t,e),(function(t){return{value:t[0],presentation:t[1]}}))},t.getObjValues=function(t){return Object.keys(t).map((function(e){return t[e]}))}}(),function(){function t(){}t.fromStartAndStepAdditive=function(t,e,n){for(var r=[],o=0;o<n;o++)r.push(t+o*e);return r}}()},6353:function(t,e,n){var r;!function(o,i,s){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)c[111+f]="f"+f;for(f=0;f<=9;++f)c[f+96]=f.toString();m.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},m.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(e,this.target))return!1;if("composedPath"in t&&"function"===typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);u=null},m.init=function(){var t=m(i);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},m.init(),o.Mousetrap=m,t.exports&&(t.exports=m),void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}function h(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function y(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:a[t.which]?a[t.which]:String.fromCharCode(t.which).toLowerCase()}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,n){return n||(n=function(){if(!u)for(var t in u={},c)t>95&&t<112||c.hasOwnProperty(t)&&(u[c[t]]=t);return u}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function _(t,e){var n,r,o,i=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<n.length;++o)r=n[o],l[r]&&(r=l[r]),e&&"keypress"!=e&&p[r]&&(r=p[r],i.push("shift")),d(r)&&i.push(r);return{key:r,modifiers:i,action:e=v(r,i,e)}}function b(t,e){return null!==t&&t!==i&&(t===e||b(t.parentNode,e))}function m(t){var e=this;if(t=t||i,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,s=!1,u=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function a(t,n,o,i,s,u){var c,a,p,l,f=[],h=o.type;if(!e._callbacks[t])return[];for("keyup"==h&&d(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(a=e._callbacks[t][c],(i||!a.seq||r[a.seq]==a.level)&&h==a.action&&("keypress"==h&&!o.metaKey&&!o.ctrlKey||(p=n,l=a.modifiers,p.sort().join(",")===l.sort().join(",")))){var y=!i&&a.combo==s,v=i&&a.seq==i&&a.level==u;(y||v)&&e._callbacks[t].splice(c,1),f.push(a)}return f}function p(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function l(t){"number"!==typeof t.which&&(t.which=t.keyCode);var n=y(t);n&&("keyup"!=t.type||o!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):o=!1)}function f(t,e,i,s){function a(e){return function(){u=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}function l(e){p(i,e,t),"keyup"!==s&&(o=y(e)),setTimeout(c,10)}r[t]=0;for(var f=0;f<e.length;++f){var h=f+1===e.length?l:a(s||_(e[f+1]).action);v(e[f],h,s,t,f)}}function v(t,n,r,o,i){e._directMap[t+":"+r]=n;var s,u=(t=t.replace(/\s+/g," ")).split(" ");u.length>1?f(t,u,n,r):(s=_(t,r),e._callbacks[s.key]=e._callbacks[s.key]||[],a(s.key,s.modifiers,{type:s.action},o,t,i),e._callbacks[s.key][o?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){var r,o=a(t,e,n),i={},l=0,f=!1;for(r=0;r<o.length;++r)o[r].seq&&(l=Math.max(l,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=l)continue;f=!0,i[o[r].seq]=1,p(o[r].callback,n,o[r].combo,o[r].seq)}else f||p(o[r].callback,n,o[r].combo);var h="keypress"==n.type&&s;n.type!=u||d(t)||h||c(i),s=f&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},h(t,"keypress",l),h(t,"keydown",l),h(t,"keyup",l)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},7002:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatchError=void 0;class n extends Error{constructor(t){super(t)}}e.DispatchError=n},980:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatcherBase=void 0;const r=n(3210);e.DispatcherBase=class{constructor(){this._subscriptions=new Array}get count(){return this._subscriptions.length}get onSubscriptionChange(){return null==this._onSubscriptionChange&&(this._onSubscriptionChange=new r.SubscriptionChangeEventDispatcher),this._onSubscriptionChange.asEvent()}subscribe(t){return t&&(this._subscriptions.push(this.createSubscription(t,!1)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(t)}}sub(t){return this.subscribe(t)}one(t){return t&&(this._subscriptions.push(this.createSubscription(t,!0)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(t)}}has(t){return!!t&&this._subscriptions.some((e=>e.handler==t))}unsubscribe(t){if(!t)return;let e=!1;for(let n=0;n<this._subscriptions.length;n++)if(this._subscriptions[n].handler==t){this._subscriptions.splice(n,1),e=!0;break}e&&this.triggerSubscriptionChange()}unsub(t){this.unsubscribe(t)}_dispatch(t,e,n){for(let o of[...this._subscriptions]){let i=new r.EventManagement((()=>this.unsub(o.handler))),s=Array.prototype.slice.call(n);if(s.push(i),o.execute(t,e,s),this.cleanup(o),!t&&i.propagationStopped)return{propagationStopped:!0}}return t?null:{propagationStopped:!1}}createSubscription(t,e){return new r.Subscription(t,e)}cleanup(t){let e=!1;if(t.isOnce&&t.isExecuted){let n=this._subscriptions.indexOf(t);n>-1&&(this._subscriptions.splice(n,1),e=!0)}e&&this.triggerSubscriptionChange()}asEvent(){return null==this._wrap&&(this._wrap=new r.DispatcherWrapper(this)),this._wrap}clear(){0!=this._subscriptions.length&&(this._subscriptions.splice(0,this._subscriptions.length),this.triggerSubscriptionChange())}triggerSubscriptionChange(){null!=this._onSubscriptionChange&&this._onSubscriptionChange.dispatch(this.count)}}},2611:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatcherWrapper=void 0;e.DispatcherWrapper=class{constructor(t){this._subscribe=e=>t.subscribe(e),this._unsubscribe=e=>t.unsubscribe(e),this._one=e=>t.one(e),this._has=e=>t.has(e),this._clear=()=>t.clear(),this._count=()=>t.count,this._onSubscriptionChange=()=>t.onSubscriptionChange}get onSubscriptionChange(){return this._onSubscriptionChange()}get count(){return this._count()}subscribe(t){return this._subscribe(t)}sub(t){return this.subscribe(t)}unsubscribe(t){this._unsubscribe(t)}unsub(t){this.unsubscribe(t)}one(t){return this._one(t)}has(t){return this._has(t)}clear(){this._clear()}}},6925:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventListBase=void 0;e.EventListBase=class{constructor(){this._events={}}get(t){let e=this._events[t];return e||(e=this.createDispatcher(),this._events[t]=e,e)}remove(t){delete this._events[t]}}},1334:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseDispatcherBase=void 0;const r=n(3210);class o extends r.DispatcherBase{_dispatch(t,e,n){throw new r.DispatchError("_dispatch not supported. Use _dispatchAsPromise.")}createSubscription(t,e){return new r.PromiseSubscription(t,e)}async _dispatchAsPromise(t,e,n){for(let o of[...this._subscriptions]){let i=new r.EventManagement((()=>this.unsub(o.handler))),s=Array.prototype.slice.call(n);s.push(i);let u=o;if(await u.execute(t,e,s),this.cleanup(o),!t&&i.propagationStopped)return{propagationStopped:!0}}return t?null:{propagationStopped:!1}}}e.PromiseDispatcherBase=o},4259:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionChangeEventDispatcher=void 0;const r=n(3210);class o extends r.DispatcherBase{dispatch(t){this._dispatch(!1,this,arguments)}}e.SubscriptionChangeEventDispatcher=o},8244:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSubscription=void 0;e.PromiseSubscription=class{constructor(t,e){this.handler=t,this.isOnce=e,this.isExecuted=!1}async execute(t,e,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;if(t)return void setTimeout((()=>{r.apply(e,n)}),1);let o=r.apply(e,n);await o}}}},3458:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subscription=void 0;e.Subscription=class{constructor(t,e){this.handler=t,this.isOnce=e,this.isExecuted=!1}execute(t,e,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;t?setTimeout((()=>{r.apply(e,n)}),1):r.apply(e,n)}}}},5277:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HandlingBase=void 0;e.HandlingBase=class{constructor(t){this.events=t}one(t,e){this.events.get(t).one(e)}has(t,e){return this.events.get(t).has(e)}subscribe(t,e){this.events.get(t).subscribe(e)}sub(t,e){this.subscribe(t,e)}unsubscribe(t,e){this.events.get(t).unsubscribe(e)}unsub(t,e){this.unsubscribe(t,e)}}},3210:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionChangeEventDispatcher=e.HandlingBase=e.PromiseDispatcherBase=e.PromiseSubscription=e.DispatchError=e.EventManagement=e.EventListBase=e.DispatcherWrapper=e.DispatcherBase=e.Subscription=void 0;const r=n(980);Object.defineProperty(e,"DispatcherBase",{enumerable:!0,get:function(){return r.DispatcherBase}});const o=n(7002);Object.defineProperty(e,"DispatchError",{enumerable:!0,get:function(){return o.DispatchError}});const i=n(2611);Object.defineProperty(e,"DispatcherWrapper",{enumerable:!0,get:function(){return i.DispatcherWrapper}});const s=n(6925);Object.defineProperty(e,"EventListBase",{enumerable:!0,get:function(){return s.EventListBase}});const u=n(8621);Object.defineProperty(e,"EventManagement",{enumerable:!0,get:function(){return u.EventManagement}});const c=n(5277);Object.defineProperty(e,"HandlingBase",{enumerable:!0,get:function(){return c.HandlingBase}});const a=n(1334);Object.defineProperty(e,"PromiseDispatcherBase",{enumerable:!0,get:function(){return a.PromiseDispatcherBase}});const p=n(8244);Object.defineProperty(e,"PromiseSubscription",{enumerable:!0,get:function(){return p.PromiseSubscription}});const l=n(3458);Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return l.Subscription}});const f=n(4259);Object.defineProperty(e,"SubscriptionChangeEventDispatcher",{enumerable:!0,get:function(){return f.SubscriptionChangeEventDispatcher}})},8621:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventManagement=void 0;e.EventManagement=class{constructor(t){this.unsub=t,this.propagationStopped=!1}stopPropagation(){this.propagationStopped=!0}}},4764:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventDispatcher=void 0;const r=n(3210);class o extends r.DispatcherBase{constructor(){super()}dispatch(t,e){const n=this._dispatch(!1,this,arguments);if(null==n)throw new r.DispatchError("Got `null` back from dispatch.");return n}dispatchAsync(t,e){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}}e.EventDispatcher=o},5719:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventHandlingBase=void 0;const r=n(3210),o=n(8011);class i extends r.HandlingBase{constructor(){super(new o.EventList)}}e.EventHandlingBase=i},8011:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventList=void 0;const r=n(3210),o=n(4764);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.EventDispatcher}}e.EventList=i},9672:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformEventList=void 0;const r=n(4764);e.NonUniformEventList=class{constructor(){this._events={}}get(t){if(this._events[t])return this._events[t];const e=this.createDispatcher();return this._events[t]=e,e}remove(t){delete this._events[t]}createDispatcher(){return new r.EventDispatcher}}},3132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformEventList=e.EventList=e.EventHandlingBase=e.EventDispatcher=void 0;const r=n(4764);Object.defineProperty(e,"EventDispatcher",{enumerable:!0,get:function(){return r.EventDispatcher}});const o=n(5719);Object.defineProperty(e,"EventHandlingBase",{enumerable:!0,get:function(){return o.EventHandlingBase}});const i=n(8011);Object.defineProperty(e,"EventList",{enumerable:!0,get:function(){return i.EventList}});const s=n(9672);Object.defineProperty(e,"NonUniformEventList",{enumerable:!0,get:function(){return s.NonUniformEventList}})},6357:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformPromiseEventList=void 0;const r=n(5072);e.NonUniformPromiseEventList=class{constructor(){this._events={}}get(t){if(this._events[t])return this._events[t];const e=this.createDispatcher();return this._events[t]=e,e}remove(t){delete this._events[t]}createDispatcher(){return new r.PromiseEventDispatcher}}},5072:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseEventDispatcher=void 0;const r=n(3210);class o extends r.PromiseDispatcherBase{constructor(){super()}async dispatch(t,e){const n=await this._dispatchAsPromise(!1,this,arguments);if(null==n)throw new r.DispatchError("Got `null` back from dispatch.");return n}dispatchAsync(t,e){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}}e.PromiseEventDispatcher=o},7873:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseEventHandlingBase=void 0;const r=n(3210),o=n(4414);class i extends r.HandlingBase{constructor(){super(new o.PromiseEventList)}}e.PromiseEventHandlingBase=i},4414:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseEventList=void 0;const r=n(3210),o=n(5072);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.PromiseEventDispatcher}}e.PromiseEventList=i},6586:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformPromiseEventList=e.PromiseEventList=e.PromiseEventHandlingBase=e.PromiseEventDispatcher=void 0;const r=n(5072);Object.defineProperty(e,"PromiseEventDispatcher",{enumerable:!0,get:function(){return r.PromiseEventDispatcher}});const o=n(7873);Object.defineProperty(e,"PromiseEventHandlingBase",{enumerable:!0,get:function(){return o.PromiseEventHandlingBase}});const i=n(4414);Object.defineProperty(e,"PromiseEventList",{enumerable:!0,get:function(){return i.PromiseEventList}});const s=n(6357);Object.defineProperty(e,"NonUniformPromiseEventList",{enumerable:!0,get:function(){return s.NonUniformPromiseEventList}})},5890:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSignalDispatcher=void 0;const r=n(3210);class o extends r.PromiseDispatcherBase{constructor(){super()}async dispatch(){const t=await this._dispatchAsPromise(!1,this,arguments);if(null==t)throw new r.DispatchError("Got `null` back from dispatch.");return t}dispatchAsync(){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}}e.PromiseSignalDispatcher=o},205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSignalHandlingBase=void 0;const r=n(3210),o=n(3146);class i extends r.HandlingBase{constructor(){super(new o.PromiseSignalList)}}e.PromiseSignalHandlingBase=i},3146:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSignalList=void 0;const r=n(3210),o=n(6838);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.PromiseSignalDispatcher}}e.PromiseSignalList=i},6838:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSignalList=e.PromiseSignalHandlingBase=e.PromiseSignalDispatcher=void 0;const r=n(5890);Object.defineProperty(e,"PromiseSignalDispatcher",{enumerable:!0,get:function(){return r.PromiseSignalDispatcher}});const o=n(205);Object.defineProperty(e,"PromiseSignalHandlingBase",{enumerable:!0,get:function(){return o.PromiseSignalHandlingBase}});const i=n(3146);Object.defineProperty(e,"PromiseSignalList",{enumerable:!0,get:function(){return i.PromiseSignalList}})},4537:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformPromiseSimpleEventList=void 0;const r=n(8921);e.NonUniformPromiseSimpleEventList=class{constructor(){this._events={}}get(t){if(this._events[t])return this._events[t];const e=this.createDispatcher();return this._events[t]=e,e}remove(t){delete this._events[t]}createDispatcher(){return new r.PromiseSimpleEventDispatcher}}},8921:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSimpleEventDispatcher=void 0;const r=n(3210);class o extends r.PromiseDispatcherBase{constructor(){super()}async dispatch(t){const e=await this._dispatchAsPromise(!1,this,arguments);if(null==e)throw new r.DispatchError("Got `null` back from dispatch.");return e}dispatchAsync(t){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}}e.PromiseSimpleEventDispatcher=o},532:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSimpleEventHandlingBase=void 0;const r=n(3210),o=n(7929);class i extends r.HandlingBase{constructor(){super(new o.PromiseSimpleEventList)}}e.PromiseSimpleEventHandlingBase=i},7929:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromiseSimpleEventList=void 0;const r=n(3210),o=n(8921);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.PromiseSimpleEventDispatcher}}e.PromiseSimpleEventList=i},9176:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformPromiseSimpleEventList=e.PromiseSimpleEventList=e.PromiseSimpleEventHandlingBase=e.PromiseSimpleEventDispatcher=void 0;const r=n(4537);Object.defineProperty(e,"NonUniformPromiseSimpleEventList",{enumerable:!0,get:function(){return r.NonUniformPromiseSimpleEventList}});const o=n(8921);Object.defineProperty(e,"PromiseSimpleEventDispatcher",{enumerable:!0,get:function(){return o.PromiseSimpleEventDispatcher}});const i=n(532);Object.defineProperty(e,"PromiseSimpleEventHandlingBase",{enumerable:!0,get:function(){return i.PromiseSimpleEventHandlingBase}});const s=n(7929);Object.defineProperty(e,"PromiseSimpleEventList",{enumerable:!0,get:function(){return s.PromiseSimpleEventList}})},9154:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalDispatcher=void 0;const r=n(3210);class o extends r.DispatcherBase{dispatch(){const t=this._dispatch(!1,this,arguments);if(null==t)throw new r.DispatchError("Got `null` back from dispatch.");return t}dispatchAsync(){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}}e.SignalDispatcher=o},1702:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalHandlingBase=void 0;const r=n(3210),o=n(1106);class i extends r.HandlingBase{constructor(){super(new o.SignalList)}}e.SignalHandlingBase=i},9208:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalList=void 0;const r=n(3210),o=n(1106);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.SignalDispatcher}}e.SignalList=i},1106:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalList=e.SignalHandlingBase=e.SignalDispatcher=void 0;const r=n(9154);Object.defineProperty(e,"SignalDispatcher",{enumerable:!0,get:function(){return r.SignalDispatcher}});const o=n(1702);Object.defineProperty(e,"SignalHandlingBase",{enumerable:!0,get:function(){return o.SignalHandlingBase}});const i=n(9208);Object.defineProperty(e,"SignalList",{enumerable:!0,get:function(){return i.SignalList}})},7221:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformSimpleEventList=void 0;const r=n(4924);e.NonUniformSimpleEventList=class{constructor(){this._events={}}get(t){if(this._events[t])return this._events[t];const e=this.createDispatcher();return this._events[t]=e,e}remove(t){delete this._events[t]}createDispatcher(){return new r.SimpleEventDispatcher}}},4924:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleEventDispatcher=void 0;const r=n(3210);class o extends r.DispatcherBase{constructor(){super()}dispatch(t){const e=this._dispatch(!1,this,arguments);if(null==e)throw new r.DispatchError("Got `null` back from dispatch.");return e}dispatchAsync(t){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}}e.SimpleEventDispatcher=o},1645:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleEventHandlingBase=void 0;const r=n(3210),o=n(8678);class i extends r.HandlingBase{constructor(){super(new o.SimpleEventList)}}e.SimpleEventHandlingBase=i},8678:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleEventList=void 0;const r=n(3210),o=n(4924);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.SimpleEventDispatcher}}e.SimpleEventList=i},8602:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonUniformSimpleEventList=e.SimpleEventList=e.SimpleEventHandlingBase=e.SimpleEventDispatcher=void 0;const r=n(4924);Object.defineProperty(e,"SimpleEventDispatcher",{enumerable:!0,get:function(){return r.SimpleEventDispatcher}});const o=n(1645);Object.defineProperty(e,"SimpleEventHandlingBase",{enumerable:!0,get:function(){return o.SimpleEventHandlingBase}});const i=n(7221);Object.defineProperty(e,"NonUniformSimpleEventList",{enumerable:!0,get:function(){return i.NonUniformSimpleEventList}});const s=n(8678);Object.defineProperty(e,"SimpleEventList",{enumerable:!0,get:function(){return s.SimpleEventList}})},8993:function(t,e,n){"use strict";e.FK=e.pB=void 0;var r=n(3210);var o=n(3132);Object.defineProperty(e,"pB",{enumerable:!0,get:function(){return o.EventDispatcher}});var i=n(8602);Object.defineProperty(e,"FK",{enumerable:!0,get:function(){return i.SimpleEventDispatcher}});var s=n(1106);var u=n(6586);var c=n(6838);var a=n(9176)}}]);